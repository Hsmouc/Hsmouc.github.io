---
layout:     post
title:      Raspberry Pi上手体验
date:       2015-12-12 11:40:25
author:     Hsmouc
summary:    Raspberry Pi安装系统及简单配置
categories: Pi
thumbnail:  heart
tags:
 - 欢迎来我的博客
---
- 生日快到了，女票送了一个树莓ψ(｀∇´)ψ,好开心，简单写下使用体验吧。

##Raspberry Pi简介
树莓派（英语：Raspberry Pi），是一款基于Linux系統的只有信用卡大小的单片机电脑。它由英国的树莓派基金会所开发，目的是以低价硬件及自由软件刺激在学校的基本电脑科学教育。配备有Broadcom出产的ARM架构700MHz BCM2836处理器，1G内存，还有一些必须的接口。   
除了电脑上都有的接口，树莓派还有GPIO的拓展接口，这为工科狗实现一些很有意思的想法提供了巨大的空间，比如四轴飞行器，智能小车什么的。先留个坑，以后再填吧。
##系统的安装
1. 在Pi的官网上下载系统镜像[(下载页面)](https://www.raspberrypi.org/downloads),我选择的是Raspbian(名字Raspberry+Debian233),解压后得到一个.img镜像。 
2. 插入TF卡，用df命令查看当前挂载的卷：
{% highlight c %}
df -h
{% endhighlight %} 
确认设备
{% highlight c %}
diskutil list
{% endhighlight %}
确定一下你的TF卡是哪个。
3. 卸载TF卡上的分区
{% highlight c %}
diskutil unmount /dev/disk2   // /dev/disk2是我的TF卡
{% endhighlight%}
4. 将系统刷入卡中
把当前目录切换到要装载的系统镜像的所在目录
{% highlight c %}
sudo dd bs=4m if=2015-11-21-raspbian-jessie.img of=/dev/rdisk2
{% endhighlight %}
输入密码后不会出现任何提示，要等上几分钟，别着急用ctrl+c结束。
5. 卸载设备
{% highlight c %}
diskutil unmountDisk /dev/disk2
{% endhighlight %}
##Pi的开机配置
###语言和键盘
把HDMI，鼠标键盘电源线接好，然后它居然直接出现了桌面，难道是我的人品太好（ ｉ _ ｉ ）。    
激动的点开终端，咦，怎么有些键不能用=_=  
别慌，Pi是腐国的产品，默认的是英式键盘的键位，我们使用的大部分都是美式键盘。所以我们简单的配置下:   
终端输入
{% highlight c %}
raspi-config
{% endhighlight %}
选`Internationalisation opntions`
选`I3 Change Keyboard Layout`   
选`Generic 101-key  PC`  
选`Other`  
选`English(US)`    
选`English(US) - English(US,alternative international)`  
后面都选择确定，键盘上下键选择，tab切换选项，enter确定。   
注意！！！我不建议大家把Pi的系统语言改成中文的，至于为什么大家试一试就知道了，字体炸裂……  
注:编码需要选择下，UTF-8，原因大家都懂。给个[果壳](http://www.guokr.com/post/520901/)的参考，我就不多写了。  
###安装中文输入法
{% highlight c %}
sudo apt-get -y install ttf-wqy-zenhei
{% endhighlight %}
###安装VIM
好吧，这步大家可以跳过，我有强迫症:-)   
{% highlight c %}
sudo apt-get install -y vim
{% endhighlight %}
简单配置下代码高亮  
在～目录下新建.vimrc文件，写入下面的内容:
{% highlight c %}
set nu
syntax on
set tabstop=4
{% endhighlight %}
###配置watchdog
Pi的看门狗防止程序死循环，设置好就能让Pi在当机的时候自动重启。
1. 启动硬件看门狗模块
{% highlight c %}
sudo modprobe bcm2708_wdog
{% endhighlight %}
2. 编辑/etc/modules,启动时自加载模块
{% highlight c %}
sudo vim /etc/modules
{% endhighlight %}
在文件的最后加上
{% highlight c %}
bcm2708_wdog
{% endhighlight %}
3. 启动与配置watchdog
启动watchdog
{% highlight c %}
sudo /etc/init.d/watchdog start
{% endhighlight %}
编辑配置文件
{% highlight c %}
sudo vim /etc/watchdog.conf
{% endhighlight %}
把`#watchdog-device =/dev/watchdog`前面的`#`删去  
重新启动watchdog
{% highlight c %}
sudo /etc/init.d/watchdog restart
{% endhighlight %}
还可以监控芯片温度什么，过热自动重启之类。
##一些小插曲和随手拍的图
- 中间有个小小的意外，我随手装了个多媒体系统试试效果，XBMC，就是这货，装完重启直接进不了系统了233。简单分析了下原因，貌似是显存分配不足，应该要在安装前配置下内存的分配。这个小插曲直接导致了我决定今晚赶紧把今天做的配置记录下来。这样一块用来折腾的Pi估计以后要经常重刷系统了=_=  
- 桌面上的显示器是一块笔记本的屏，我又在万能的某宝上买了块驱动版，我现在打算买个相框把屏幕裱起来。话说不加壳的屏真的是好薄啊，看起来很有逼格。
![](http://ww2.sinaimg.cn/mw690/005WMcFzjw1eyx9x5jdvej32io1w0e81.jpg)
![](http://ww3.sinaimg.cn/mw690/005WMcFzjw1eyx9wypk1rj32io1w0npd.jpg)
![](http://ww1.sinaimg.cn/mw690/005WMcFzjw1eyx9whbb85j32io1w01kx.jpg)
##最后的最后
感谢我爱的和爱我的票票！！！

