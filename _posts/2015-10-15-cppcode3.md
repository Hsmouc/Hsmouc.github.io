---
layout:     post
title:      c++ primer 2.2
date:       2015-10-15 21:21:08
author:     Hsmouc
summary:    cpp习题解答
categories: cpp
thumbnail:  heart
tags:
 - 欢迎来我的博客
---

- 2.15  
- Which of the following definitions,if any,are invalid?Why?        

{% highlight c %}  
(a) int ival=1.01;  //valid
(b) int &rval=1.01;  //invalid
(c) int &rval2=ival; //valid
(d) int &rval3;  //invalid
{% endhighlight %}

- 2.17
- What does the following code print?      


{% highlight c %}
int i, &ri = i;
i = 5; ri = 10;
std::cout << i << " " << ri << std::endl;
{% enghighlight %}

输出10 10(这玩意叫右值引用，所以说把值赋给了与引用绑定的对象)

- 2.18
- Write code to change the value of a pointer. Write code to change the value to which the pointer points.  

{% highlight c %}
int a=0,b=1;
int *p1=&a,*p2=p1;
p1=b;
*p2=b;
{% endhighlight %}

- 2.20
- What does the following program do?

{% highlight c %}
int i = 42;
int *p1 = &i; *p1 = *p1 * *p1;
{% endhighlight %}
结果是1764 你以为把乘号放在指针符号中间我就不认识啦～

- 2.21
- Explain each of the following definitions. Indicate whether any are illegal and, if so, why.

{% highlight c %}
int i = 0;
(a) double* dp = &i;  //illegal
(b) int *ip = i;  //illegal
(c) int *p = &i;  //legal
{% endhighlight %}  
这个题呢，除了两种例外情况，其他所有指针的类型都要和它指向的类型相匹配哦。

- 2.24
- Why is the initialization of p legal but that of lp illegal?  

{% highlight c %}
int i = 42;
void *p = &i;
long *lp = &i;
{% endhighlight %}
void* 是一个可以指向类型的指针，第二个反正我是不会这么写。

- 2.27
- Which of the following initializations are legal? Explain why.  

{% highlight c %}
int i = -1, &r = 0;         // illegal
int *const p2 = &i2;        // legal
const int i = -1, &r = 0;   // legal
const int *const p3 = &i2;  // legal
const int *p1 = &i2;        // legal
const int &const r2;        // illegal
const int i2 = i, &r = i;   // legal
{% endhighlight %}

- 2.28
- Explain the following definitions. Identify any that are illegal.

{% highlight c %}
int i, *const cp;       // illegal
int *p1, *const p2;     // illegal
const int ic, &r = ic;  // illegal
const int *const p3;    // illegal
const int *p;           // legal
{% endhighlight %}









